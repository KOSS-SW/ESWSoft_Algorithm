# 임베디드 소프트웨어 경진대회 2024

## 시스템 개요

이 프로젝트는 카메라 비전과 모터 제어를 결합한 자율 골프 로봇 시스템입니다. 파3, 파4 코스에서 공을 인식하고, 정확한 퍼팅을 수행하여 홀컵에 도달하는 것을 목표로 합니다.

## 주요 기능

### 1. 비전 처리 시스템
- 실시간 카메라 영상 처리
- HSV 색상 기반의 공/깃발/홀컵 인식
- 거리 및 각도 계산
- 실시간 위치 보정

### 2. 로봇 제어 시스템
- 정밀한 모터 제어
- 시리얼 통신 기반 동작 제어
- 다단계 퍼팅 알고리즘
- 자동 보정 시스템

### 3. 상태 관리 시스템
- 단계별 태스크 관리
- 실시간 피드백 처리
- 에러 복구 메커니즘
- 로깅 시스템

## 작동 프로세스

1. 초기화 단계
   - 시스템 초기화
   - 카메라/모터 설정
   - 초기 위치 조정

2. 공 탐색 단계
   - 360도 환경 스캔
   - 공 위치 인식
   - 접근 경로 계산

3. 정렬 단계
   - 공-깃발 정렬
   - 거리 측정
   - 각도 보정

4. 퍼팅 단계
   - 타격 강도 계산
   - 정밀 위치 조정
   - 퍼팅 실행

파3, 파4에서 카메라 및 로봇 동작을 수행하여 완벽한 골프 로직을 수행합니다.

## 프로젝트 구조
```
├── MODULES/
│   ├── Camera/
│   │   ├── calculate.py
│   │   └── camera.py
│   └── Motion/
│       └── robot.py
├── stage/
│   ├── par3.py
│   └── par4.py
├── main.py
├── serialTest.py
└── README.md
```

## 주요 구성 요소

### Camera 모듈
- `calculate.py`: 카메라 관련 계산 로직 구현
- `camera.py`: 카메라 제어 및 기본 기능 구현

### Motion 모듈
- `robot.py`: 로봇 동작 제어 및 관련 기능 구현

### 테스트 환경
- `stage/par3.py`: 파3 테스트 환경 구성
- `stage/par4.py`: 파4 테스트 환경 구성

### 기타 파일
- `main.py`: 프로그램 메인 실행 파일
- `serialTest.py`: 시리얼 통신 스크립트

## 설치 및 실행

1. 의존성 설치
```bash
$ pip install -r requirements.txt
```

2. 프로그램 실행
```bash
$ python main.py
```